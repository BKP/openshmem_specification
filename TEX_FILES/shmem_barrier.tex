\bAPI{SHMEM\_BARRIER}{Performs a barrier operation on a subset of processing elements (PEs)}

%SYNOPSIS
\synC
	  void shmem\_barrier(int PE\_start, int logPE\_stride, int PE\_size, long *pSync);
%*\synCE

\synF
	  INTEGER PE\_start, logPE\_stride, PE\_size
	  INTEGER pSync(SHMEM\_BARRIER\_SYNC\_SIZE)
	  CALL SHMEM\_BARRIER(PE\_start, logPE\_stride, PE\_size, pSync)
%*synFE

%DESCRIPTION

%Arguments
\desB{
 	\argRow{IN}{PE\_start}{The lowest virtual PE number of  the	 active	 set  of  PEs.
				   PE\_start  must  be  of  type	 integer.   If	you  are using
		   		   Fortran, it must be a default integer value.}
	\argRow{IN}{logPE\_stride}{The log (base 2) of the stride between consecutive  virtual
			   	   PE numbers in the active set.  logPE\_stride must be of type
		   		   integer.  If you are using Fortran, it must	be  a  default
		   		   integer value.}
	\argRo{IN}{PE\_size}{The	number	of  PEs in the active set.  PE\_size must be of
				   type integer.  If you are  using  Fortran,  it  must	 be  a
		  		   default integer value.}

	\argRow{IN}{pSync}{	A  symmetric	 work  array.  In C/C++, pSync must be of type
						int and size \_SHMEM_BARRIER_SYNC_SIZE.  In  Fortran,	 pSync
						must	 be  of type integer and size SHMEM\_BARRIER_SYNC_SIZE.
						If you are using Fortran, it	 must  be  a  default  integer
						type.  Every element of this array must be initialized to 0
						before any of the PEs in the active set enter shmem\_barrier
						the first time. }
   
%API Description
{
       shmem\_barrier is a collective synchronization routine.  Control returns
       from shmem\_barrier after all  PEs  in  the  active  set	(specified  by
       PE\_start, logPE\_stride, and PE\_size) have called shmem\_barrier.

       As  with	 all OpenSHMEM collective routines, each of these routines assumes
       that only PEs in the active set call the routine.  If a PE not  in  the
       active  set  calls  a  OpenSHMEM  collective	 routine,  undefined  behavior
       results.

       The  values  of	arguments  PE\_start, logPEi\_stride, and PEi\_size must be
       equal on all PEs in the active set.  The same work array must be passed
       in pSync to all PEs in the active set.

       shmem\_barrier  ensures  that  all  previously  issued  local stores and
       previously issued remote memory updates done by any of the PEs  in  the
       active  set  (by	 using	OpenSHMEM  calls,  for  example  shmem\_put) are
       complete before returning.

       The  same  pSync	 array	may  be	 reused	 on   consecutive   calls   to
       shmem\_barrier if the same active PE set is used.
}

% API Description Table
{
		\desTB {}
			{
					\cRow{}
			}

		%Return Values
			{None.}
}

%NOTES
{
       If the pSync array is initialized at run time, be sure to use some type
       of synchronization, for example, a call to shmem\_barrier_all(), before
       calling shmem\_barrier for the first time.

       If  the	active	set  does  not	change,	 shmem\_barrier	can  be called
       repeatedly with the same pSync array.   No  additional  synchronization
       beyond  that implied by shmem\_barrier itself is necessary in this case.
}

%EXAMPLES
\exampleB{
	\exampleITEM
	{The following barrier example is for C/C++ programs:}
	{./EXAMPLES/shmem_barrier.c}
	{}
}
\eAPI

